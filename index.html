<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DOM For Dummies</title>
    <link rel="stylesheet" href="./css/style.css" />
    <script src="./js/dfd-script.js"></script>
    <script src="./js/script.js"></script>
</head>

<body>
    <header class="mainHeader">
        <h1>DOM For Dummies</h1>
    </header>
    <nav class="mainNav">
        <ul>
            <li><a href="#">test</a></li>
            <li><a href="#">test</a></li>
            <li><a href="#">test</a></li>
            <li><a href="#">test</a></li>
        </ul>
    </nav>
    <main>
        <section>
            <article>
                <h2>Petite bibliothèque de fonctions de raccourcis pour agir sur le DOM</h2>
                <ul>
                    <li>Attendre que le DOM soit chargé</li>
                    <li>Un querySelector qui renvoi une collection ou un seul élément, selon le selecteur (plus a
                        choisir entre un selector ou selectorAll)</li>
                    <li>Un créateur d'élément DOM
                        <ul>
                            <li>avec options pour inclure directement les attribut de l'élément.</li>
                            <li>l'élément créé peut directement être ajouter en tant qu'enfant à un élément parent en
                                indiquant le selecteur du parent</li>
                        </ul>
                    </li>
                    <li>D'autres encore qui sont en cuisine</li>
                </ul>
                <h3>Usages</h3>
                <ul>
                    <li>Le fichier dfd-script.js est a appeler dans le <code>&lt;head /&gt;</code></li>
                    <li>dfd-script.js contient en commentaire dans les fonctions leur utilisation (simple promis)</li>
                    <li>Le fichier index.html montre un exemple d'utilisation des fonctions</li>
                </ul>
                <h3>Fonctions</h3>
                <h4>loaded(selector)</h4>
                <p>
                    Loaded retourne simplement la formulation <code>window.addEventListener(callable)</code>
                </p>
                <h4>q(selector)</h4>
                <p>
                    q fait un querySelectorAll du selecteur, ensuite analyse la collection.
                    si la collection n'est qu'un élément, l'élément est retourné comme pour un querySelector,
                    sinon retourne la collection comme un querySelectorAll
                </p>
                <p>
                    <label for="selectTest">Selecteur</label><br />
                    <select name="selectTest" id="selectTest">
                        <optgroup label="nombres">
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                        </optgroup>
                        <optgroup label="texte">
                            <option value="text1">text1</option>
                            <option value="text2">text2</option>
                            <option value="text3">text3</option>
                        </optgroup>
                    </select>
                </p>
                <h4>cEO(element, options = {}, parent = null)</h4>
                <p>
                    Combine createElement, setAttribute et appendChild.
                </p>
                <ul>
                    <li>option est un objet litéral</li>
                    <li>les noms des attribut de l'objet sont les noms des attributs de l'élément.</li>
                    <li>la valeur des attributs de l'objet sont les valeurs de l'attribut de l'élément</li>
                    <li>les attributs tels que ```class``` et ```style``` sont a renseigner en tableau</li>
                    <li>on peut indique en troisième attribut l'objet DOM du parent dans lequel on ajoute le textnode
                        /!\ PAS LE SÉLECTEUR /!\</li>
                    <li>la fonction retourne par défaut l'élément créé</li>
                </ul>
                <code>
                    options = {<br />
                    &nbsp;&nbsp;&nbsp;&nbsp;href: '#',<br />
                    &nbsp;&nbsp;&nbsp;&nbsp;class: ['class1', 'class2', ...],<br />
                    &nbsp;&nbsp;&nbsp;&nbsp;style: ['property: value;', 'property: value;', ... 'property: value;']</code><br />
                }<br />
                </code>
                <h4>cTN(content, parent = null)</h4>
                <ul>
                    <li>
                        retourne un text node créé avec <code>window.createTextNode(content)</code>
                    </li>
                    <li>
                        Possibilité de mettre en second paramètre l'élément (en variable) parent dans lequel on ajoute
                        le text node.
                    </li>
                    <li>
                        la fonction retourne par défaut le text node
                    </li>
                </ul>
                <div id="parent">

                </div>
                <h4>erase_childs(node)</h4>
                <ul>
                    <li>
                        supprime (remove) tous les noeuds enfant de node
                    </li>
                </ul>
                <p>
                    <button id="btnTestEraseChilds">
                        Effacer les enfants de la div
                    </button>
                    <button id="resetTestErase">
                        Remplir la div
                    </button>
                </p>
                <div id="divTestEraseChilds" class="blackBorder">
                    <ul>
                        <li>li enfant</li>
                    </ul>
                    <button>bouton test enfant</button>
                </div>
                <h4>ParseXML</h4>
                <p>
                    Permet de transformer une source XML en liste HTML.
                </p>
                <p>
                    C'est une fonction récursive.
                </p>
                <p>
                    Il faut le lien vers la ressource XML et le nom de l'élément racine du XML pour pouvoir le parcourir,<br />
                    on le parse avec la fonction : <br />
                    <code>const xmlDoc = parser.parseFromString(xmlFlux, 'application/xml');</code><br />
                    <code>xmlData = xmlDoc.getElementsByTagName(&lt;élément racine&gt;);</code>

                </p>
                <p>
                    <button id="XML" data-action="readxml" data-xmlsource="./ressources/repertoire.xml"
                        data-target="listeXML" data-keyword="repertoire">Chercher le XML</button>
                    <button id="resetXml">Vider l'affichage XML</button>
                </p>
                <hr />
                <p>
                    <button id="externXML">Lire un XML exterieur</button>
                    </p>
                    <p>
                        <label>Lien vers la ressource XML</label> <input type="text" id="ext-ressource" /><br />
                        <br />
                        <code>ex : https://rss.nytimes.com/services/xml/rss/nyt/Movies.xml</code>
                    </p>
                    <p>
                        <label>Élément racine</label> <input type="text" id="ext-root-element" /><br />
                        <br />
                        <code>exemple : channel</code>
                    </p>
                </p>
                <div id="listeXML">

                </div>
                <h4>Randomize</h4>
                <p>
                    Une fonction qui renvoie un nombre entier entre un minimum et un maximum (tous deux compris dans le random)
                </p>
                <p>
                    <label>Valeur min</label> <input type="number" id="randMin" />
                </p>
                <p>
                    <label>Valeur max</label> <input type="number" id="randMax" />
                </p>
                <p>
                    <button id="testRandomize">Tester randomize</button>
                </p>
                <p>
                    <span id="resRandomize"></span>
                </p>
            </article>
        </section>
    </main>
    <footer>

    </footer>
</body>

</html>